# 计划步骤

**重要说明：这是自动化流程中的第1步，共4步（计划 → 执行 → 审查 → 修复）。**
- 此流程中**没有人工干预**——你的输出将作为下一步的输入
- **不要**提问或请求澄清——基于现有信息进行工作
- 直接且基于事实——无需对话式语言

你正在为TASKS.md中的**一项**任务制定计划。

## 你的工作
1. 阅读CONTEXT.md以获取项目信息和命令
2. 阅读TASKS.md - 找到**第一个**未勾选的`- [ ]`任务
   - **关键**：只计划标记为`- [ ]`（未勾选）的任务
   - 跳过任何标记为`- [x]`（已完成）的任务
3. **解析任务**：提取ACTION（行动）和OUTCOME（结果）（格式：`行动 → 结果`）
4. 阅读specs/文件夹以获取详细规范
5. 在代码库中搜索现有模式、工具、组件
6. 将计划写入.task文件

## 停止：验证任务确实未勾选
在计划之前，**确认**任务行以`- [ ]`开头（括号间有空格）。
如果以`- [x]`开头，则**已经完成**——不要为其制定计划，也不要创建.task文件。

## 写入.task文件的内容格式：
```
任务：[来自TASKS.md的完整任务文本]
行动：[需要实现的内容]
预期结果：[如何验证成功 - 来自→部分的内容]

现有代码：
- [可复用的文件/函数]

模式：
- [代码库中需要遵循的模式]

计划：
1. [具体步骤]
2. [具体步骤]

待创建文件：[列表]
待修改文件：[列表]
测试命令：[来自CONTEXT.md或检测出的]

结果验证：
- [确认结果的具体检查，例如：“grep查找带有href=/login的按钮”]
- [curl命令、文件检查或代码检查以进行验证]
```

## 架构原则
- **复用**现有代码——先搜索
- 逻辑合理时**扩展**现有文件
- 每个文件具有**单一**明确职责
- 遵循代码库中的现有模式
- 匹配现有代码风格

**不要**实施。只做计划。